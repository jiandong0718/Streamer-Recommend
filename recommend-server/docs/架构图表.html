<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸»æ’­æ¨èç³»ç»Ÿæ¶æ„å›¾è¡¨</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 40px;
            border-bottom: 3px solid #007acc;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #444;
            margin-top: 50px;
            margin-bottom: 20px;
            padding: 10px 0;
            border-left: 4px solid #007acc;
            padding-left: 15px;
        }
        
        .diagram-container {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        
        .diagram {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .description {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #e8f4fd;
            border-radius: 5px;
            border-left: 4px solid #007acc;
        }
        
        .download-hint {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä¸»æ’­æ¨èç³»ç»Ÿæ¶æ„å›¾è¡¨</h1>
        
        <div class="download-hint">
            <strong>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</strong>
            <ul>
                <li>å³é”®ç‚¹å‡»å›¾è¡¨ â†’ "å›¾ç‰‡å¦å­˜ä¸º" å³å¯ä¿å­˜ä¸ºPNGå›¾ç‰‡</li>
                <li>å»ºè®®ä¿å­˜åˆ° <code>recommend-server/docs/images/</code> ç›®å½•ä¸‹</li>
                <li>æ¨èæ–‡ä»¶åï¼šsystem-architecture.png, interaction-flow.png, data-flow.png</li>
            </ul>
        </div>

        <h2>1. ç³»ç»Ÿæ€»ä½“æ¶æ„å›¾</h2>
        <div class="diagram-container">
            <div class="description">
                <strong>æ¶æ„è¯´æ˜ï¼š</strong>å±•ç¤ºäº†ä¸»æ’­æ¨èç³»ç»Ÿçš„å®Œæ•´å¾®æœåŠ¡æ¶æ„ï¼ŒåŒ…æ‹¬å‰ç«¯å±‚ã€APIç½‘å…³å±‚ã€åº”ç”¨æœåŠ¡å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®è®¿é—®å±‚ã€æ•°æ®å­˜å‚¨å±‚ã€ç›‘æ§å±‚å’Œé…ç½®ä¸­å¿ƒç­‰å„ä¸ªç»„ä»¶åŠå…¶å…³ç³»ã€‚
            </div>
            <div class="diagram">
                <div class="mermaid" id="architecture-diagram">
graph TB
    subgraph "å‰ç«¯å±‚"
        UI[ç”¨æˆ·ç•Œé¢]
        APP[ç§»åŠ¨ç«¯APP]
        WEB[Webç•Œé¢]
    end

    subgraph "APIç½‘å…³å±‚"
        GATEWAY[APIç½‘å…³<br/>Spring Cloud Gateway]
        LB[è´Ÿè½½å‡è¡¡å™¨]
    end

    subgraph "åº”ç”¨æœåŠ¡å±‚"
        subgraph "æ¨èæœåŠ¡"
            RC[æ¨èæ§åˆ¶å™¨<br/>RecommendController]
            RS[æ¨èæœåŠ¡<br/>RecommendService]
            RA[æ¨èç®—æ³•<br/>Algorithm]
        end
        
        subgraph "ä¸»æ’­æœåŠ¡"
            SC[ä¸»æ’­æ§åˆ¶å™¨<br/>StreamerController]
            SS[ä¸»æ’­æœåŠ¡<br/>StreamerService]
            SSC[ä¸»æ’­æœç´¢æ§åˆ¶å™¨<br/>StreamerSearchController]
            SSS[ä¸»æ’­æœç´¢æœåŠ¡<br/>StreamerSearchService]
        end
        
        subgraph "ç”¨æˆ·æœåŠ¡"
            UC[ç”¨æˆ·æ§åˆ¶å™¨<br/>UserController]
            US[ç”¨æˆ·æœåŠ¡<br/>UserService]
            UBS[ç”¨æˆ·è¡Œä¸ºæœåŠ¡<br/>UserBehaviorService]
        end
        
        subgraph "è®¢å•æœåŠ¡"
            OC[è®¢å•æ§åˆ¶å™¨<br/>OrderController]
            OS[è®¢å•æœåŠ¡<br/>OrderService]
        end
    end

    subgraph "ä¸šåŠ¡é€»è¾‘å±‚"
        subgraph "å¬å›ç­–ç•¥"
            HR[çƒ­é—¨å¬å›<br/>HotRecall]
            TR[æ ‡ç­¾å¬å›<br/>TagRecall]
            CFR[ååŒè¿‡æ»¤å¬å›<br/>CollaborativeRecall]
            CBR[å†…å®¹å¬å›<br/>ContentRecall]
            NR[æ–°é¢–æ€§å¬å›<br/>NoveltyRecall]
        end
        
        subgraph "æ’åºç®—æ³•"
            RANK[æ’åºæœåŠ¡<br/>RankService]
            FE[ç‰¹å¾æå–<br/>FeatureExtractor]
            RF[æ’åºç‰¹å¾<br/>RankingFeatures]
        end
        
        subgraph "è¿‡æ»¤ç­–ç•¥"
            FS[è¿‡æ»¤æœåŠ¡<br/>FilterService]
            BF[é»‘åå•è¿‡æ»¤]
            QF[è´¨é‡è¿‡æ»¤]
        end
    end

    subgraph "æ•°æ®è®¿é—®å±‚"
        subgraph "ç¼“å­˜å±‚"
            L1[ä¸€çº§ç¼“å­˜<br/>JVM Cache]
            L2[äºŒçº§ç¼“å­˜<br/>Redis Cache]
        end
        
        subgraph "æ•°æ®æŒä¹…å±‚"
            SM[ä¸»æ’­æ˜ å°„å™¨<br/>StreamerMapper]
            UM[ç”¨æˆ·æ˜ å°„å™¨<br/>UserMapper]
            OM[è®¢å•æ˜ å°„å™¨<br/>OrderMapper]
            TM[æ ‡ç­¾æ˜ å°„å™¨<br/>TagMapper]
        end
    end

    subgraph "æ•°æ®å­˜å‚¨å±‚"
        MYSQL[(MySQLæ•°æ®åº“)]
        REDIS[(Redisç¼“å­˜)]
    end

    subgraph "ç›‘æ§å±‚"
        MONITOR[ç›‘æ§æœåŠ¡<br/>MonitorService]
        METRICS[æŒ‡æ ‡æ”¶é›†<br/>MetricsCollector]
        ALERT[å‘Šè­¦æœåŠ¡<br/>AlertService]
        PROMETHEUS[Prometheus]
        GRAFANA[Grafana]
    end

    subgraph "é…ç½®ä¸­å¿ƒ"
        NACOS[Nacosé…ç½®ä¸­å¿ƒ]
    end

    %% è¿æ¥å…³ç³»
    UI --> GATEWAY
    APP --> GATEWAY
    WEB --> GATEWAY
    
    GATEWAY --> LB
    LB --> RC
    LB --> SC
    LB --> UC
    LB --> OC
    LB --> SSC
    
    RC --> RS
    SC --> SS
    UC --> US
    OC --> OS
    SSC --> SSS
    
    RS --> HR
    RS --> TR
    RS --> CFR
    RS --> CBR
    RS --> NR
    RS --> RANK
    RS --> FS
    
    RANK --> FE
    RANK --> RF
    
    SS --> SM
    US --> UM
    OS --> OM
    RS --> L1
    RS --> L2
    
    L1 --> L2
    L2 --> MYSQL
    L2 --> REDIS
    
    SM --> MYSQL
    UM --> MYSQL
    OM --> MYSQL
    TM --> MYSQL
    
    MONITOR --> METRICS
    MONITOR --> ALERT
    METRICS --> PROMETHEUS
    PROMETHEUS --> GRAFANA
    
    NACOS --> RC
    NACOS --> SC
    NACOS --> UC
    NACOS --> OC
                </div>
            </div>
        </div>

        <h2>2. ç³»ç»Ÿäº¤äº’æµç¨‹æ—¶åºå›¾</h2>
        <div class="diagram-container">
            <div class="description">
                <strong>æµç¨‹è¯´æ˜ï¼š</strong>å±•ç¤ºäº†ç”¨æˆ·å‘èµ·æ¨èè¯·æ±‚åï¼Œç³»ç»Ÿå†…éƒ¨å„ç»„ä»¶é—´çš„äº¤äº’æµç¨‹ï¼ŒåŒ…æ‹¬ç¼“å­˜æ£€æŸ¥ã€å¤šè·¯å¬å›ã€ç‰¹å¾æå–ã€ç®—æ³•è®¡ç®—ã€æ’åºè¿‡æ»¤ç­‰å®Œæ•´æµç¨‹ã€‚
            </div>
            <div class="diagram">
                <div class="mermaid" id="interaction-diagram">
sequenceDiagram
    participant U as ç”¨æˆ·ç«¯
    participant G as APIç½‘å…³
    participant RC as æ¨èæ§åˆ¶å™¨
    participant RS as æ¨èæœåŠ¡
    participant RECALL as å¬å›æœåŠ¡
    participant RANK as æ’åºæœåŠ¡
    participant FILTER as è¿‡æ»¤æœåŠ¡
    participant CACHE as ç¼“å­˜å±‚
    participant DB as æ•°æ®åº“
    participant MONITOR as ç›‘æ§æœåŠ¡

    Note over U,MONITOR: ä¸»æ’­æ¨èç³»ç»Ÿäº¤äº’æµç¨‹

    %% ç”¨æˆ·è¯·æ±‚æ¨è
    U->>G: å‘é€æ¨èè¯·æ±‚
    G->>RC: è½¬å‘è¯·æ±‚
    RC->>RS: è°ƒç”¨æ¨èæœåŠ¡

    %% ç›‘æ§è®°å½•
    RS->>MONITOR: è®°å½•è¯·æ±‚æŒ‡æ ‡
    
    %% ç¼“å­˜æ£€æŸ¥
    RS->>CACHE: æ£€æŸ¥ç¼“å­˜
    alt ç¼“å­˜å‘½ä¸­
        CACHE-->>RS: è¿”å›ç¼“å­˜ç»“æœ
        RS-->>RC: è¿”å›æ¨èç»“æœ
        RC-->>G: å“åº”ç»“æœ
        G-->>U: è¿”å›æ¨èåˆ—è¡¨
    else ç¼“å­˜æœªå‘½ä¸­
        %% å¤šè·¯å¬å›
        RS->>RECALL: æ‰§è¡Œå¬å›ç­–ç•¥
        
        par çƒ­é—¨å¬å›
            RECALL->>DB: æŸ¥è¯¢çƒ­é—¨ä¸»æ’­
            DB-->>RECALL: è¿”å›çƒ­é—¨æ•°æ®
        and æ ‡ç­¾å¬å›
            RECALL->>DB: åŸºäºç”¨æˆ·æ ‡ç­¾å¬å›
            DB-->>RECALL: è¿”å›æ ‡ç­¾åŒ¹é…æ•°æ®
        and ååŒè¿‡æ»¤å¬å›
            RECALL->>DB: æŸ¥è¯¢ç›¸ä¼¼ç”¨æˆ·å–œå¥½
            DB-->>RECALL: è¿”å›ååŒè¿‡æ»¤æ•°æ®
        and å†…å®¹å¬å›
            RECALL->>DB: åŸºäºå†…å®¹ç›¸ä¼¼æ€§å¬å›
            DB-->>RECALL: è¿”å›å†…å®¹åŒ¹é…æ•°æ®
        and æ–°é¢–æ€§å¬å›
            RECALL->>DB: å¬å›æ–°ä¸»æ’­
            DB-->>RECALL: è¿”å›æ–°é¢–æ€§æ•°æ®
        end
        
        RECALL-->>RS: è¿”å›å¬å›ç»“æœé›†
        
        %% ç‰¹å¾æå–å’Œæ’åº
        RS->>RANK: æ‰§è¡Œæ’åºç®—æ³•
        RANK->>DB: è·å–ç‰¹å¾æ•°æ®
        DB-->>RANK: è¿”å›ç‰¹å¾ä¿¡æ¯
        RANK->>RANK: è®¡ç®—ç›¸å…³æ€§(30%)<br/>è´¨é‡(25%)<br/>çƒ­åº¦(20%)<br/>ä»·æ ¼(15%)<br/>æ—¶é—´(10%)
        RANK-->>RS: è¿”å›æ’åºç»“æœ
        
        %% è¿‡æ»¤å¤„ç†
        RS->>FILTER: æ‰§è¡Œè¿‡æ»¤ç­–ç•¥
        FILTER->>DB: æ£€æŸ¥é»‘åå•ç­‰
        DB-->>FILTER: è¿”å›è¿‡æ»¤è§„åˆ™
        FILTER-->>RS: è¿”å›è¿‡æ»¤åç»“æœ
        
        %% ç¼“å­˜æ›´æ–°
        RS->>CACHE: æ›´æ–°ç¼“å­˜
        
        %% ç›‘æ§è®°å½•
        RS->>MONITOR: è®°å½•æ¨èæŒ‡æ ‡
        
        %% è¿”å›ç»“æœ
        RS-->>RC: è¿”å›æœ€ç»ˆæ¨èç»“æœ
        RC-->>G: å“åº”ç»“æœ
        G-->>U: è¿”å›æ¨èåˆ—è¡¨
    end
    
    %% ç”¨æˆ·åé¦ˆ
    opt ç”¨æˆ·åé¦ˆ
        U->>G: å‘é€ç”¨æˆ·åé¦ˆ
        G->>RC: è½¬å‘åé¦ˆ
        RC->>RS: å¤„ç†åé¦ˆ
        RS->>DB: æ›´æ–°ç”¨æˆ·è¡Œä¸ºæ•°æ®
        RS->>MONITOR: è®°å½•åé¦ˆæŒ‡æ ‡
    end
                </div>
            </div>
        </div>

        <h2>3. æ•°æ®æµå›¾</h2>
        <div class="diagram-container">
            <div class="description">
                <strong>æ•°æ®è¯´æ˜ï¼š</strong>å±•ç¤ºäº†æ•°æ®åœ¨æ¨èç³»ç»Ÿä¸­çš„æµè½¬è¿‡ç¨‹ï¼Œä»æ•°æ®è¾“å…¥ã€ç‰¹å¾å·¥ç¨‹ã€ç®—æ³•å¼•æ“ã€å¬å›å¼•æ“ï¼Œåˆ°è¯„åˆ†æ’åºã€ç»“æœä¼˜åŒ–ï¼Œæœ€ç»ˆè¾“å‡ºæ¨èç»“æœçš„å®Œæ•´æ•°æ®æµã€‚
            </div>
            <div class="diagram">
                <div class="mermaid" id="dataflow-diagram">
flowchart TD
    subgraph "æ•°æ®è¾“å…¥å±‚"
        UR[ç”¨æˆ·è¯·æ±‚æ•°æ®]
        UB[ç”¨æˆ·è¡Œä¸ºæ•°æ®]
        SD[ä¸»æ’­æ•°æ®]
        OD[è®¢å•æ•°æ®]
    end

    subgraph "æ•°æ®å¤„ç†å±‚"
        subgraph "ç‰¹å¾å·¥ç¨‹"
            UF[ç”¨æˆ·ç‰¹å¾æå–]
            SF[ä¸»æ’­ç‰¹å¾æå–]
            IF[äº¤äº’ç‰¹å¾æå–]
            CF[ä¸Šä¸‹æ–‡ç‰¹å¾æå–]
        end
        
        subgraph "ç®—æ³•å¼•æ“"
            CFA[ååŒè¿‡æ»¤ç®—æ³•]
            CBA[åŸºäºå†…å®¹ç®—æ³•]
            HA[æ··åˆç®—æ³•]
        end
        
        subgraph "å¬å›å¼•æ“"
            HR[çƒ­é—¨å¬å›<br/>20%]
            TR[æ ‡ç­¾å¬å›<br/>25%]
            CFR[ååŒè¿‡æ»¤å¬å›<br/>20%]
            CBR[å†…å®¹å¬å›<br/>25%]
            NR[æ–°é¢–æ€§å¬å›<br/>10%]
        end
    end

    subgraph "è¯„åˆ†ä¸æ’åº"
        SCORE[è¯„åˆ†è®¡ç®—]
        WEIGHT[æƒé‡åˆ†é…<br/>ç›¸å…³æ€§30%+è´¨é‡25%+<br/>çƒ­åº¦20%+ä»·æ ¼15%+æ—¶é—´10%]
        RANK[æœ€ç»ˆæ’åº]
    end

    subgraph "ç»“æœä¼˜åŒ–"
        FILTER[ç»“æœè¿‡æ»¤]
        DIVERSE[å¤šæ ·æ€§å¤„ç†]
        PERSONAL[ä¸ªæ€§åŒ–è°ƒæ•´]
    end

    subgraph "è¾“å‡ºå±‚"
        RESULT[æ¨èç»“æœ]
        CACHE[ç¼“å­˜å­˜å‚¨]
        FEEDBACK[åé¦ˆæ”¶é›†]
    end

    %% æ•°æ®æµå‘
    UR --> UF
    UB --> UF
    UB --> IF
    SD --> SF
    OD --> IF
    
    UF --> CFA
    UF --> CBA
    UF --> HA
    SF --> CFA
    SF --> CBA
    SF --> HA
    IF --> CFA
    IF --> CBA
    IF --> HA
    CF --> HA
    
    CFA --> CFR
    CBA --> CBR
    HA --> HR
    HA --> TR
    HA --> NR
    
    HR --> SCORE
    TR --> SCORE
    CFR --> SCORE
    CBR --> SCORE
    NR --> SCORE
    
    SCORE --> WEIGHT
    WEIGHT --> RANK
    
    RANK --> FILTER
    FILTER --> DIVERSE
    DIVERSE --> PERSONAL
    
    PERSONAL --> RESULT
    RESULT --> CACHE
    RESULT --> FEEDBACK
    
    FEEDBACK --> UB
    
    style HR fill:#ff9999
    style TR fill:#99ff99
    style CFR fill:#9999ff
    style CBR fill:#ffff99
    style NR fill:#ff99ff
                </div>
            </div>
        </div>

        <h2>4. éƒ¨ç½²æ¶æ„å›¾</h2>
        <div class="diagram-container">
            <div class="description">
                <strong>éƒ¨ç½²è¯´æ˜ï¼š</strong>å±•ç¤ºäº†ç³»ç»Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„éƒ¨ç½²æ¶æ„ï¼ŒåŒ…æ‹¬è´Ÿè½½å‡è¡¡ã€åº”ç”¨é›†ç¾¤ã€æ•°æ®åº“é›†ç¾¤ã€ç¼“å­˜é›†ç¾¤ç­‰åŸºç¡€è®¾æ–½ç»„ä»¶ã€‚
            </div>
            <div class="diagram">
                <div class="mermaid" id="deployment-diagram">
graph TB
    subgraph "å¤–éƒ¨è®¿é—®"
        USERS[ç”¨æˆ·]
        CDN[CDN]
    end

    subgraph "è´Ÿè½½å‡è¡¡å±‚"
        LB[è´Ÿè½½å‡è¡¡å™¨<br/>Nginx/HAProxy]
        SSL[SSLç»ˆç»“]
    end

    subgraph "åº”ç”¨å±‚ - Kubernetesé›†ç¾¤"
        subgraph "æ¨èæœåŠ¡Pod"
            APP1[æ¨èæœåŠ¡å®ä¾‹1]
            APP2[æ¨èæœåŠ¡å®ä¾‹2] 
            APP3[æ¨èæœåŠ¡å®ä¾‹3]
        end
        
        subgraph "ç½‘å…³æœåŠ¡Pod"
            GW1[APIç½‘å…³å®ä¾‹1]
            GW2[APIç½‘å…³å®ä¾‹2]
        end
    end

    subgraph "ä¸­é—´ä»¶å±‚"
        subgraph "ç¼“å­˜é›†ç¾¤"
            REDIS1[Redisä¸»èŠ‚ç‚¹]
            REDIS2[Redisä»èŠ‚ç‚¹1]
            REDIS3[Redisä»èŠ‚ç‚¹2]
        end
        
        subgraph "æ¶ˆæ¯é˜Ÿåˆ—"
            MQ1[RabbitMQèŠ‚ç‚¹1]
            MQ2[RabbitMQèŠ‚ç‚¹2]
        end
    end

    subgraph "æ•°æ®å±‚"
        subgraph "æ•°æ®åº“é›†ç¾¤"
            DB1[MySQLä¸»åº“]
            DB2[MySQLä»åº“1]
            DB3[MySQLä»åº“2]
        end
        
        subgraph "é…ç½®ä¸­å¿ƒ"
            NACOS1[NacosèŠ‚ç‚¹1]
            NACOS2[NacosèŠ‚ç‚¹2]
            NACOS3[NacosèŠ‚ç‚¹3]
        end
    end

    subgraph "ç›‘æ§å±‚"
        PROMETHEUS[Prometheus]
        GRAFANA[Grafana]
        ALERT[AlertManager]
        ELK[ELKæ—¥å¿—ä¸­å¿ƒ]
    end

    subgraph "å­˜å‚¨å±‚"
        NFS[å…±äº«å­˜å‚¨<br/>NFS/NAS]
        BACKUP[å¤‡ä»½å­˜å‚¨]
    end

    %% è¿æ¥å…³ç³»
    USERS --> CDN
    CDN --> LB
    LB --> SSL
    SSL --> GW1
    SSL --> GW2
    
    GW1 --> APP1
    GW1 --> APP2
    GW1 --> APP3
    GW2 --> APP1
    GW2 --> APP2
    GW2 --> APP3
    
    APP1 --> REDIS1
    APP2 --> REDIS1
    APP3 --> REDIS1
    REDIS1 --> REDIS2
    REDIS1 --> REDIS3
    
    APP1 --> DB1
    APP2 --> DB1
    APP3 --> DB1
    DB1 --> DB2
    DB1 --> DB3
    
    APP1 --> MQ1
    APP2 --> MQ1
    APP3 --> MQ1
    MQ1 --> MQ2
    
    APP1 --> NACOS1
    APP2 --> NACOS2
    APP3 --> NACOS3
    
    PROMETHEUS --> APP1
    PROMETHEUS --> APP2
    PROMETHEUS --> APP3
    PROMETHEUS --> REDIS1
    PROMETHEUS --> DB1
    
    GRAFANA --> PROMETHEUS
    ALERT --> PROMETHEUS
    
    DB1 --> BACKUP
    REDIS1 --> BACKUP
    APP1 --> NFS
    APP2 --> NFS
    APP3 --> NFS
                </div>
            </div>
        </div>

        <footer style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #666;">
            <p>ä¸»æ’­æ¨èç³»ç»Ÿæ¶æ„å›¾è¡¨ - ç”Ÿæˆæ—¶é—´: <span id="timestamp"></span></p>
        </footer>
    </div>

    <script>
        // åˆå§‹åŒ–Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'linear'
            },
            sequence: {
                actorMargin: 50,
                width: 150,
                height: 65,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35
            }
        });
        
        // è®¾ç½®æ—¶é—´æˆ³
        document.getElementById('timestamp').textContent = new Date().toLocaleString('zh-CN');
        
        // æ·»åŠ å³é”®ä¿å­˜å›¾ç‰‡çš„æç¤º
        document.querySelectorAll('.mermaid').forEach(function(element) {
            element.addEventListener('contextmenu', function(e) {
                setTimeout(function() {
                    alert('æç¤ºï¼šé€‰æ‹©"å›¾ç‰‡å¦å­˜ä¸º"å¯ä»¥å°†å›¾è¡¨ä¿å­˜ä¸ºPNGæ ¼å¼');
                }, 100);
            });
        });
    </script>
</body>
</html> 